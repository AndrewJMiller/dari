CodeMirror.defineMode("less",function(a){function d(a,b){return c=b,a}function f(a){for(var b=0;b<e.length;b++)if(a===e[b])return!0}function g(a,b){var c=a.next();if(c=="@")return a.eatWhile(/[\w\-]/),d("meta",a.current());if(c=="/"&&a.eat("*"))return b.tokenize=i,i(a,b);if(c=="<"&&a.eat("!"))return b.tokenize=j,j(a,b);if(c!="=")return c!="~"&&c!="|"||!a.eat("=")?c=='"'||c=="'"?(b.tokenize=k(c),b.tokenize(a,b)):c=="/"?a.eat("/")?(b.tokenize=h,h(a,b)):(a.eatWhile(/[\a-zA-Z0-9\-_.]/),a.peek()==")"||a.peek()=="/"?d("string","string"):d("number","unit")):c=="!"?(a.match(/^\s*\w*/),d("keyword","important")):/\d/.test(c)?(a.eatWhile(/[\w.%]/),d("number","unit")):/[,+>*\/]/.test(c)?d(null,"select-op"):/[;{}:\[\]()]/.test(c)?c==":"?(a.eatWhile(/[active|hover|link|visited]/),a.current().match(/active|hover|link|visited/)?d("tag","tag"):d(null,c)):d(null,c):c=="."?(a.eatWhile(/[\a-zA-Z0-9\-_]/),d("tag","tag")):c=="#"?(a.match(/([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})/),a.current().length>1?a.current().match(/([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})/)!=null?d("number","unit"):(a.eatWhile(/[\w\-]/),d("atom","tag")):(a.eatWhile(/[\w\-]/),d("atom","tag"))):c=="&"?(a.eatWhile(/[\w\-]/),d(null,c)):(a.eatWhile(/[\w\\\-_.%]/),a.eat("(")?d(null,c):a.current().match(/\-\d|\-.\d/)?d("number","unit"):f(a.current())?d("tag","tag"):a.peek()!=")"&&a.peek()!="/"||a.current().indexOf(".")===-1?d("variable","variable"):d("string","string")):d(null,"compare");d(null,"compare")}function h(a,b){return a.skipToEnd(),b.tokenize=g,d("comment","comment")}function i(a,b){var c=!1,e;while((e=a.next())!=null){if(c&&e=="/"){b.tokenize=g;break}c=e=="*"}return d("comment","comment")}function j(a,b){var c=0,e;while((e=a.next())!=null){if(c>=2&&e==">"){b.tokenize=g;break}c=e=="-"?c+1:0}return d("comment","comment")}function k(a){return function(b,c){var e=!1,f;while((f=b.next())!=null){if(f==a&&!e)break;e=!e&&f=="\\"}return e||(c.tokenize=g),d("string","string")}}var b=a.indentUnit,c,e=["a","abbr","acronym","address","applet","area","article","aside","audio","b","base","basefont","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","command","datalist","dd","del","details","dfn","dir","div","dl","dt","em","embed","fieldset","figcaption","figure","font","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","keygen","kbd","label","legend","li","link","map","mark","menu","meta","meter","nav","noframes","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strike","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","tt","u","ul","var","video","wbr"];return{startState:function(a){return{tokenize:g,baseIndent:a||0,stack:[]}},token:function(a,b){if(a.eatSpace())return null;var d=b.tokenize(a,b),e=b.stack[b.stack.length-1];if(c=="hash"&&e=="rule")d="atom";else if(d=="variable")if(e=="rule")d=null;else if(!e||e=="@media{")d="tag";return e=="rule"&&/^[\{\};]$/.test(c)&&b.stack.pop(),c=="{"?e=="@media"?b.stack[b.stack.length-1]="@media{":b.stack.push("{"):c=="}"?b.stack.pop():c=="@media"?b.stack.push("@media"):e=="{"&&c!="comment"&&b.stack.push("rule"),d},indent:function(a,c){var d=a.stack.length;return/^\}/.test(c)&&(d-=a.stack[a.stack.length-1]=="rule"?2:1),a.baseIndent+d*b},electricChars:"}"}}),CodeMirror.defineMIME("text/less","less");